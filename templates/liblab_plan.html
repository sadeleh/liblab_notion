{% extends "base.html" %}

{% block title %}Ø®Ø·Ø© Ø¹Ù…Ù„ Ù„Ø¨Ù„Ø§Ø¨ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© - Ù…Ø±ÙƒØ² ØªØ®Ø·ÙŠØ· Ø§Ù„ÙØ±ÙŠÙ‚{% endblock %}

{% block content %}
<header class="text-center mb-8 md:mb-12">
    <h1 class="text-3xl md:text-5xl font-bold text-cyan-950">Ø®Ø·Ø© Ø¹Ù…Ù„ "Ù„Ø¨Ù„Ø§Ø¨" Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©</h1>
    <p class="text-lg md:text-xl text-gray-600 mt-2">Ù†Ø¸Ø±Ø© Ø´Ø§Ù…Ù„Ø© Ø¹Ù„Ù‰ Ø®Ø·Ø© Ø§Ù„Ø§Ù†Ø·Ù„Ø§Ù‚ ÙˆØ§Ù„Ù†Ù…Ùˆ Ù„Ù„Ø£Ø´Ù‡Ø± Ø§Ù„Ø«Ù„Ø§Ø«Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</p>
</header>

<nav id="plan-nav" class="flex justify-center items-center gap-2 md:gap-4 mb-8">
    <!-- Navigation buttons will be injected here -->
</nav>

<main id="plan-content">
    <!-- Plan content will be dynamically rendered here -->
</main>

<script>
    const planData = {
        month1: {
            title: 'Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø£ÙˆÙ„',
            goal: 'Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±: Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙˆØ§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ÙˆÙ„ÙŠØ©ØŒ ÙˆÙˆØ¶Ø¹ Ø­Ø¬Ø± Ø§Ù„Ø£Ø³Ø§Ø³ Ù„Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ© ÙˆÙ‡ÙˆÙŠØ© Ø§Ù„Ø´Ø±ÙƒØ©.',
            tracks: [
                {
                    title: 'Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© ÙˆØªØ·ÙˆÙŠØ± Ø§Ù„Ø£Ø¹Ù…Ø§Ù„',
                    icon: 'ğŸ¯',
                    color: 'border-blue-500',
                    tasks: [
                        'ØªØ­Ø¯ÙŠØ¯ Ø­Ø²Ù… Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© ÙˆØ£Ø³Ø¹Ø§Ø±Ù‡Ø§ Ø§Ù„Ù…Ø¨Ø¯Ø¦ÙŠØ©.',
                        'ÙÙ‡Ù… Ø­Ø¯ÙˆØ¯ ÙˆØ´Ø±ÙˆØ· Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­ÙƒÙˆÙ…ÙŠØ© Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø§Ù…ØªØ«Ø§Ù„ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠ.',
                        'Ø§Ø®ØªÙŠØ§Ø± Ù‚Ø·Ø§Ø¹ÙŠÙ† Ø£Ùˆ Ø«Ù„Ø§Ø«Ø© Ù„Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„ÙŠÙ‡Ù… ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©.'
                    ]
                },
                {
                    title: 'Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„ØªÙ‚Ù†ÙŠ ÙˆØ§Ù„Ù…Ù†ØªØ¬',
                    icon: 'ğŸ’»',
                    color: 'border-green-500',
                    tasks: [
                        'Ø§Ù„Ø¨Ø¯Ø¡ ÙÙŠ ØªØ·ÙˆÙŠØ± ØµÙØ­Ø© Ù‡Ø¨ÙˆØ· Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù„Ù…ÙˆÙ‚Ø¹ liblab.sa.',
                        'ØªØ·ÙˆÙŠØ± Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ (v0.1) Ù…Ù† ÙˆÙƒÙ„Ø§Ø¡ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù„Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.',
                        'ØªØµÙ…ÙŠÙ… Ù…Ø®Ø·Ø· Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Database Schema) Ù„ØªØ®Ø²ÙŠÙ† Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø±ÙƒØ§Øª.'
                    ]
                },
                {
                    title: 'Ø¨Ù†Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Corpus)',
                    icon: 'ğŸ—‚ï¸',
                    color: 'border-yellow-500',
                    tasks: [
                        'Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© Ø§Ù„Ù…ØªØ§Ø­Ø© ÙƒÙ†Ù‚Ø·Ø© Ø¨Ø¯Ø§ÙŠØ©.',
                        'Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¬Ù…Ø¹ Ø§Ù„Ø¢Ù„ÙŠ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù† Ø§Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù Ø§Ù„Ø£ÙˆÙ„.',
                        'Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø¶Ù…Ø§Ù† Ø¬ÙˆØ¯Ø© ÙˆØ¯Ù‚Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ÙˆÙ„ÙŠØ©.'
                    ]
                },
                {
                    title: 'Ø§Ù„ØªØ³ÙˆÙŠÙ‚ ÙˆØ§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª',
                    icon: 'ğŸ“ˆ',
                    color: 'border-red-500',
                    tasks: [
                        'Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø¨ØµØ±ÙŠØ© ÙˆØªØµÙ…ÙŠÙ… Ø´Ø¹Ø§Ø± Ø§Ø­ØªØ±Ø§ÙÙŠ.',
                        'Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ù„Ù ØªØ¹Ø±ÙŠÙÙŠ (Company Profile) Ù„Ù„Ø´Ø±ÙƒØ©.'
                    ]
                }
            ]
        },
        month2: {
            title: 'Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ',
            goal: 'Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±: Ø¥Ø«Ø¨Ø§Øª ÙØ¹Ø§Ù„ÙŠØ© Ø§Ù„Ø®Ø¯Ù…Ø© Ù…Ù† Ø®Ù„Ø§Ù„ Ù…Ø´Ø±ÙˆØ¹ ØªØ¬Ø±ÙŠØ¨ÙŠØŒ ÙˆØªØ·ÙˆÙŠØ± Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬ Ø­Ù‚ÙŠÙ‚ÙŠØ©.',
            tracks: [
                {
                    title: 'Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© ÙˆØªØ·ÙˆÙŠØ± Ø§Ù„Ø£Ø¹Ù…Ø§Ù„',
                    icon: 'ğŸ¯',
                    color: 'border-blue-500',
                    tasks: [
                        'Ø§Ø®ØªÙŠØ§Ø± Ø¹Ù…ÙŠÙ„ ØªØ¬Ø±ÙŠØ¨ÙŠ (Pilot Client) ÙˆØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ø®Ø¯Ù…Ø© Ù„Ù‡ Ø¨Ø³Ø¹Ø± Ù…Ø®ÙØ¶.',
                        'ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø£ÙˆÙ„ÙŠØ© Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙŠ ØªÙ… Ø¬Ù…Ø¹Ù‡Ø§.'
                    ]
                },
                {
                    title: 'Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„ØªÙ‚Ù†ÙŠ ÙˆØ§Ù„Ù…Ù†ØªØ¬',
                    icon: 'ğŸ’»',
                    color: 'border-green-500',
                    tasks: [
                        'Ø¥Ø·Ù„Ø§Ù‚ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ© Ù„Ù„Ù…ÙˆÙ‚Ø¹ (MVP) Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù‡ØªÙ…Ø§Ù… Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡.',
                        'ØªØ·ÙˆÙŠØ± ÙˆÙƒÙ„Ø§Ø¡ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ (v0.2) Ù„Ø¥Ø¶Ø§ÙØ© Ù‚Ø¯Ø±Ø§Øª Ø§Ù„ØªØ­Ù‚Ù‚ ÙˆØ§Ù„ØªÙ†Ù‚ÙŠØ©.',
                        'Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆÙƒÙ„Ø§Ø¡ Ù„ØªØµÙ†ÙŠÙ Ø§Ù„Ø´Ø±ÙƒØ§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ÙˆØµÙÙ‡Ø§ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù„ØºØ© Ø§Ù„ÙƒØ¨ÙŠØ±Ø© (LLM).'
                    ]
                },
                {
                    title: 'Ø¨Ù†Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
                    icon: 'ğŸ—‚ï¸',
                    color: 'border-yellow-500',
                    tasks: [
                        'ØªÙ†Ù‚ÙŠØ© ÙˆØ¥Ø«Ø±Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø£ÙˆÙ„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡ Ø§Ù„Ù…Ø·ÙˆØ±ÙŠÙ†.',
                        'Ø§Ù„Ø¨Ø¯Ø¡ ÙÙŠ Ø¬Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù Ø§Ù„Ø«Ø§Ù†ÙŠ.',
                        'ØªÙ†ÙÙŠØ° Ø­Ù…Ù„Ø© ØªØ³ÙˆÙŠÙ‚ÙŠØ© ØªØ¬Ø±ÙŠØ¨ÙŠØ© ØµØºÙŠØ±Ø© Ù„Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ.'
                    ]
                },
                {
                    title: 'Ø§Ù„ØªØ³ÙˆÙŠÙ‚ ÙˆØ§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª',
                    icon: 'ğŸ“ˆ',
                    color: 'border-red-500',
                    tasks: [
                        'ØªÙˆØ«ÙŠÙ‚ ÙƒÙ„ Ø®Ø·ÙˆØ© ÙˆÙ†ØªÙŠØ¬Ø© ÙÙŠ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ Ø¨Ø¯Ù‚Ø©.',
                        'Ø¨Ø¯Ø¡ Ø§Ù„ØªØ³ÙˆÙŠÙ‚ Ø¨Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¹Ø¨Ø± LinkedIn Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…ØµØ¯Ø§Ù‚ÙŠØ©.'
                    ]
                }
            ]
        },
        month3: {
            title: 'Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø«Ø§Ù„Ø«',
            goal: 'Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±: ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†Ø¬Ø§Ø­ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ Ø¥Ù„Ù‰ Ø£Ø¯Ø§Ø© Ù…Ø¨ÙŠØ¹Ø§Øª Ù‚ÙˆÙŠØ©ØŒ ÙˆØ§Ù„Ø¨Ø¯Ø¡ ÙÙŠ Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø¹Ù…Ù„Ø§Ø¡ Ø­Ù‚ÙŠÙ‚ÙŠÙŠÙ†.',
            tracks: [
                {
                    title: 'Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© ÙˆØªØ·ÙˆÙŠØ± Ø§Ù„Ø£Ø¹Ù…Ø§Ù„',
                    icon: 'ğŸ¯',
                    color: 'border-blue-500',
                    tasks: [
                        'Ø¨Ù†Ø§Ø¡ Ø¯Ø±Ø§Ø³Ø© Ø­Ø§Ù„Ø© (Case Study) Ù‚ÙˆÙŠØ© Ø¨Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ù…Ù† Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ.',
                        'ÙˆØ¶Ø¹ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© Ù„Ù„Ø®Ø¯Ù…Ø§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø«Ø¨ØªØ©.',
                        'Ø§Ù„Ø¨Ø¯Ø¡ ÙÙŠ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¨ÙŠØ¹ Ø¨Ø´ÙƒÙ„ Ù†Ø´Ø· Ù„Ù„Ø¨Ø­Ø« Ø¹Ù† Ø£ÙˆÙ„ 3-5 Ø¹Ù…Ù„Ø§Ø¡.'
                    ]
                },
                {
                    title: 'Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„ØªÙ‚Ù†ÙŠ ÙˆØ§Ù„Ù…Ù†ØªØ¬',
                    icon: 'ğŸ’»',
                    color: 'border-green-500',
                    tasks: [
                        'Ø¥Ø·Ù„Ø§Ù‚ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø±Ø³Ù…ÙŠ Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ø¹ ØµÙØ­Ø© "Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø­Ø§Ù„Ø©".',
                        'ØªØ·ÙˆÙŠØ± Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø¯Ø§Ø®Ù„ÙŠØ© (Internal Dashboard) Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª.'
                    ]
                },
                {
                    title: 'Ø¨Ù†Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
                    icon: 'ğŸ—‚ï¸',
                    color: 'border-yellow-500',
                    tasks: [
                        'Ø£ØªÙ…ØªØ© Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø¬Ù…Ø¹ -> ØªÙ†Ù‚ÙŠØ© -> Ø¥Ø«Ø±Ø§Ø¡).',
                        'Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± ÙÙŠ Ø§Ù„ØªÙˆØ³Ø¹ ÙˆØ¥Ø¶Ø§ÙØ© Ù‚Ø·Ø§Ø¹Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.',
                        'Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒÙ…Ù†ØªØ¬ Ø­ÙŠ ÙŠØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡ Ø¨Ø§Ø³ØªÙ…Ø±Ø§Ø±.'
                    ]
                },
                {
                    title: 'Ø§Ù„ØªØ³ÙˆÙŠÙ‚ ÙˆØ§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª',
                    icon: 'ğŸ“ˆ',
                    color: 'border-red-500',
                    tasks: [
                        'Ø¥Ø·Ù„Ø§Ù‚ Ø­Ù…Ù„Ø© ØªØ³ÙˆÙŠÙ‚ÙŠØ© Ù„Ù€ "Ù„Ø¨Ù„Ø§Ø¨" Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¯Ø±Ø§Ø³Ø© Ø§Ù„Ø­Ø§Ù„Ø©.',
                        'Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø¨ÙŠØ¹ Ø®Ø¯Ù…Ø© "Ø¨Ù†Ø§Ø¡ Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ©" ÙƒØ®Ø¯Ù…Ø© Ø£ÙˆÙ„Ù‰.',
                        'Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ù†ØªØ¬ÙƒÙ… Ù„ØªØ³ÙˆÙŠÙ‚ Ù…Ù†ØªØ¬ÙƒÙ… Ø¹Ø¨Ø± Ø§Ø³ØªÙ‡Ø¯Ø§Ù Ø§Ù„Ø´Ø±ÙƒØ§Øª Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§ØªÙƒÙ….'
                    ]
                }
            ]
        }
    };

    let currentMonthKey = 'month1';
    let myChart = null;

    const navContainer = document.getElementById('plan-nav');
    const contentContainer = document.getElementById('plan-content');

    function renderNav() {
        navContainer.innerHTML = '';
        Object.keys(planData).forEach(key => {
            const month = planData[key];
            const button = document.createElement('button');
            button.textContent = month.title;
            button.className = `nav-btn font-bold py-2 px-4 md:px-6 rounded-lg shadow-sm ${currentMonthKey === key ? 'active' : 'bg-white text-cyan-950 hover:bg-cyan-50'}`;
            button.onclick = () => {
                currentMonthKey = key;
                render();
            };
            navContainer.appendChild(button);
        });
    }
    
    function renderContent() {
        const monthData = planData[currentMonthKey];
        contentContainer.innerHTML = `
            <div class="bg-white p-6 rounded-xl shadow-lg mb-8 text-center animate-fade-in">
                <h2 class="text-2xl font-bold text-cyan-950 mb-2">${monthData.title}</h2>
                <p class="text-gray-700">${monthData.goal}</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
                <div class="lg:col-span-1 md:col-span-2 bg-white p-6 rounded-xl shadow-lg flex flex-col justify-center items-center">
                     <h3 class="text-xl font-bold text-center mb-4 text-cyan-950">ØªÙˆØ²ÙŠØ¹ Ù…Ù‡Ø§Ù… ${monthData.title}</h3>
                     <div class="chart-container">
                        <canvas id="tasksChart"></canvas>
                     </div>
                </div>
                <div class="lg:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-6 md:gap-8">
                    ${monthData.tracks.map(track => `
                        <div class="card bg-white p-6 rounded-xl shadow-lg ${track.color}">
                            <h3 class="text-xl font-bold mb-4 flex items-center">
                                <span class="text-2xl ml-2">${track.icon}</span>
                                ${track.title}
                            </h3>
                            <ul class="space-y-2 pr-4">
                                ${track.tasks.map(task => `<li class="task-item text-gray-700">${task}</li>`).join('')}
                            </ul>
                        </div>
                    `).join('')}
                </div>
            </div>
        `;
        renderChart();
    }

    function renderChart() {
        const monthData = planData[currentMonthKey];
        const ctx = document.getElementById('tasksChart').getContext('2d');
        
        const data = {
            labels: monthData.tracks.map(t => t.title),
            datasets: [{
                label: 'Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù‡Ø§Ù…',
                data: monthData.tracks.map(t => t.tasks.length),
                backgroundColor: [
                    'rgba(59, 130, 246, 0.7)',
                    'rgba(16, 185, 129, 0.7)',
                    'rgba(234, 179, 8, 0.7)',
                    'rgba(239, 68, 68, 0.7)'
                ],
                borderColor: [
                    'rgba(59, 130, 246, 1)',
                    'rgba(16, 185, 129, 1)',
                    'rgba(234, 179, 8, 1)',
                    'rgba(239, 68, 68, 1)'
                ],
                borderWidth: 1
            }]
        };

        const options = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'top',
                    labels: {
                       font: {
                           family: "'Noto Kufi Arabic', sans-serif",
                           size: 14
                       }
                    }
                },
                tooltip: {
                    bodyFont: {
                        family: "'Noto Kufi Arabic', sans-serif",
                    },
                    titleFont: {
                        family: "'Noto Kufi Arabic', sans-serif",
                    }
                }
            },
            animation: {
                animateScale: true,
                animateRotate: true
            }
        };

        if (myChart) {
            myChart.destroy();
        }

        myChart = new Chart(ctx, {
            type: 'doughnut',
            data: data,
            options: options
        });
    }

    function render() {
        renderNav();
        renderContent();
    }

    document.addEventListener('DOMContentLoaded', render);
</script>

<style>
    .task-item::before {
        content: 'â€¢';
        color: #083344;
        font-weight: bold;
        display: inline-block; 
        width: 1em;
        margin-right: -1em;
    }
    
    .animate-fade-in {
        animation: fadeIn 0.5s ease-in-out;
    }
    
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
</style>
{% endblock %} 